
#######################################
#
#             AT_ENV
#
#######################################


AT_SETUP([AT_ENV in testsuite.at])
AT_CHECK([printf "${VAR_EXPORT}"], [0], [Exported var], [])
AT_CHECK([printf "${VAR_INTERNAL}"], [0], [Internal var], [])
AT_CLEANUP


#######################################
#
#             AT_COPY_ALL([true])
#
#######################################


AT_COPY_ALL([true])

AT_SETUP([AT_COPY_ALL(true)])
AT_CHECK([cat simple-file.txt], [0], [This
file
is
in
simple-file.txt
], [])
AT_CHECK([cat dir/file-in-dir.txt], [0], [This
file
is
dir/file-in-dir.txt
], [])
AT_CHECK([cat copy-tests.at], [1])
AT_CLEANUP


#######################################
#
#             AT_COPY_ALL([false])
#
#######################################


AT_COPY_ALL([false])

AT_SETUP([AT_COPY_ALL(false)])
AT_CHECK([cat simple-file.txt], [1])
AT_CHECK([cat dir/file-in-dir.txt], [1])
AT_CLEANUP


#######################################
#
#             AT_LINK_ALL([true])
#
#######################################


AT_LINK_ALL([true])

AT_SETUP([AT_LINK_ALL(true)])
AT_CHECK([cat simple-file.txt], [0], [This
file
is
in
simple-file.txt
], [])
AT_CHECK([cat dir/file-in-dir.txt], [0], [This
file
is
dir/file-in-dir.txt
], [])
AT_CLEANUP


#######################################
#
#             AT_LINK_ALL([false])
#
#######################################


AT_LINK_ALL([false])

AT_SETUP([AT_LINK_ALL(false)])
AT_CHECK([cat simple-file.txt], [1])
AT_CHECK([cat dir/file-in-dir.txt], [1])
AT_CLEANUP



#######################################
#
#             AT_COPY
#
#######################################


AT_SETUP([AT_COPY simple-file.txt])
AT_COPY([[simple-file.txt]])
AT_CHECK([cat simple-file.txt], [0], [This
file
is
in
simple-file.txt
], [])
AT_CLEANUP


AT_SETUP([AT_COPY dir])
AT_COPY([dir])
AT_CHECK([cat dir/file-in-dir.txt], [0], [This
file
is
dir/file-in-dir.txt
], [])
AT_CLEANUP


AT_SETUP([AT_COPY dir/file-in-dir.txt])
AT_COPY([dir/file-in-dir.txt])
AT_CHECK([cat file-in-dir.txt], [0], [This
file
is
dir/file-in-dir.txt
], [])
AT_CLEANUP


#######################################
#
#             AT_LINK
#
#######################################


AT_SETUP([AT_LINK simple-file.txt])
AT_LINK([[simple-file.txt]])
AT_CHECK([cat simple-file.txt], [0], [This
file
is
in
simple-file.txt
], [])
AT_CLEANUP


AT_SETUP([AT_LINK dir])
AT_LINK([dir])
AT_CHECK([cat dir/file-in-dir.txt], [0], [This
file
is
dir/file-in-dir.txt
], [])
AT_CLEANUP


AT_SETUP([AT_LINK dir/file-in-dir.txt])
AT_LINK([dir/file-in-dir.txt])
AT_CHECK([cat file-in-dir.txt], [0], [This
file
is
dir/file-in-dir.txt
], [])
AT_CLEANUP

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>autofonce</title>
    <link rel="stylesheet" href="style.css?v=1eb62145308aed80e0f86b959d6f7fd0"/>
    <link rel="icon" type="image/png" sizes="804x804"  href="favicon.png" />
  </head>
  <body>
    <div class="content">
      <div class="header">
        <h1>autofonce</h1>
        <p>autofonce is a modern runner for GNU Autoconf Testsuites:
autofonce has a limited understanding of m4 macros that appear in testsuites
written for the GNU Autoconf testsuites, and can run such tests in a modern
way.
</p>
      </div>
      <div class="section">
        <ul>
          
<li><a href="https://github.com/ocamlpro/autofonce">Project on Github</a></li>
          
<li><a href="https://ocamlpro.github.io/autofonce/sphinx">General Documentation</a></li>
          
<li><a href="https://ocamlpro.github.io/autofonce/doc">API Documentation</a></li>
          
<li><a href="https://github.com/ocamlpro/autofonce/issues">Bug reports</a></li>
        </ul>
        <p>Authors:</p>
        <ul>  <li><p>Fabrice Le Fessant &lt;fabrice.le_fessant&commat;ocamlpro.com&gt;</p></li></ul>
      </div>
      <div class="section">
	<h2 id="Main-Features">Main Features</h2>

<ul><li>automatic run from any directory in the project</li><li>short display focusing on failed tests</li><li>automatic parallel execution</li><li>promotion of tests results to fix tests</li></ul>

<h2 id="Example-of-Autofonce-Test">Example of Autofonce Test</h2>

<p>Here is a simple example of test understood by <code>autofonce</code>:</p>
<pre><code># Start of a test, and the name that will be displayed
AT_SETUP([Example test])

# can be used to select tests to run:
AT_KEYWORDS([example test autofonce]) 

# create a file `file` with its content
AT_DATA([file], [
content of file
on multiple lines
])

# call some command, check its exit code, stdout, stderr
AT_CHECK([cat file], [0], [stdout of my command], [stderr of my command])
# you can do more, ignore some results, run more tests in case of failure, etc.

# end of the test
AT_CLEANUP</code></pre>

<p>Now, copy this test in a file <code>test.at</code>, and run <code>autofonce</code>:</p>
<pre><code>$ autofonce init
$ autofonce run -T test.at
Project description loaded from $PWD/autofonce.toml
Loading tests from file &quot;$PWD/test.at&quot;
Creating testing directory $PWD/_autofonce

0001 Example test                    FAIL (test.at:14:0 stdout stderr)
Results:
* 1 checks performed
* 0 / 1 tests executed successfully
* 1 tests failed: 0001
File &quot;$PWD/_autofonce/results.log&quot; created with failure results
zsh: exit 1     autofonce run -T test.at</code></pre>
      </div>
      <div class="trailer">
        <hr/>
        <p>Copyright Â© OCamlPro SAS</p>
      </div>
    </div>
  </body>
</html>
